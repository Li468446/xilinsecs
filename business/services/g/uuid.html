<!DOCTYPE html>
<html lang="zh-CN">
<head>
          <script src="https://tam.cdn-go.cn/aegis-sdk/latest/aegis.min.js"></script>
      <script>
        // 初始化 Aegis 监控SDK
        // 用于页面性能监控、接口测速、静态资源测速等功能
        if (typeof Aegis === 'function') {
          var aegis = new Aegis({
            id: '0GVpeTz2n3Epk34gYP', // 上报 id
            uin: 'e70af75a-1e3f-4f1d-9d23-302dca2dc099', // 用户唯一 ID（可选）
            reportApiSpeed: true, // 接口测速
            reportAssetSpeed: true, // 静态资源测速
            spa: true, // spa 应用页面跳转的时候开启 pv 计算
          hostUrl: 'https://rumt-zh.com'
          });
        }
      </script>
        <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0PVCDX1CZK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0PVCDX1CZK');
    </script>
        <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "u1z97w1v6n");
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UUID 生成器 - 在线批量生成唯一标识符</title>
    <meta name="description" content="免费的在线UUID生成器工具，支持单个和批量生成UUID（通用唯一识别码）。适用于软件开发、数据库设计、分布式系统等场景，简单易用且高效。">
    <meta name="keywords" content="UUID生成器, 在线UUID工具, 批量生成UUID, 唯一标识符, GUID生成器, 软件开发工具, 数据库设计工具, 分布式系统">
    <meta name="author" content="海口希灵赛斯网络科技有限责任公司">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.sec.hn.cn/public/uuid.html">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="UUID 生成器 - 在线批量生成唯一标识符">
    <meta property="og:description" content="免费的在线UUID生成器工具，支持单个和批量生成UUID（通用唯一识别码）。适用于软件开发、数据库设计、分布式系统等场景，简单易用且高效。">
    <meta property="og:url" content="https://www.sec.hn.cn/public/uuid.html">
    <meta property="og:image" content="https://www.sec.hn.cn/source/index_imgs/index_01.jpg">
    <meta property="og:site_name" content="海口希灵赛斯网络科技有限责任公司">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="UUID 生成器 - 在线批量生成唯一标识符">
    <meta name="twitter:description" content="免费的在线UUID生成器工具，支持单个和批量生成UUID（通用唯一识别码）。适用于软件开发、数据库设计、分布式系统等场景，简单易用且高效。">
    <meta name="twitter:image" content="https://www.sec.hn.cn/source/index_imgs/index_01.jpg">
    
    <!-- 结构化数据 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "UUID 生成器",
      "description": "免费的在线UUID生成器工具，支持单个和批量生成UUID（通用唯一识别码）。适用于软件开发、数据库设计、分布式系统等场景，简单易用且高效。",
      "url": "https://www.sec.hn.cn/public/uuid.html",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "CNY"
      },
      "publisher": {
        "@type": "Organization",
        "name": "海口希灵赛斯网络科技有限责任公司",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.sec.hn.cn/source/imgs/logo.png"
        }
      }
    }
    </script>

    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0071e3',
                        secondary: '#f5f5f7',
                        neutral: '#86868b',
                        dark: '#1d1d1f',
                        'apple-gray': '#f5f5f7',
                        'apple-hover': '#e8e8ed'
                    },
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif']
                    },
                    boxShadow: {
                        'apple': '0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)',
                        'apple-hover': '0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12)'
                    }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-balance {
                text-wrap: balance;
            }
            .transition-apple {
                transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            }
        }
        /* Mermaid 图表容器样式 */
        .mermaid {
            background-color: #fff;
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
        }
        /* 执行流程模拟器样式 */
        .step-highlight {
            background-color: #fef3c7; /* Tailwind amber-100 */
            border-left: 4px solid #f59e0b; /* Tailwind amber-500 */
            padding: 0.5rem 1rem;
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
            border-radius: 0 0.375rem 0.375rem 0;
        }
    </style>
</head>
<body class="bg-apple-gray min-h-screen font-sans text-dark flex flex-col">
    <!-- 顶部导航 -->
    <header class="w-full py-4 border-b border-gray-200 bg-white/80 backdrop-blur-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 md:px-6 flex justify-center items-center">
            <h1 class="text-xl md:text-2xl font-medium text-dark flex items-center">
                <i class="fa fa-random text-primary mr-2"></i>
                UUID 生成器
            </h1>
        </div>
    </header>

    <!-- 主要内容 -->
    <main class="flex-grow container mx-auto px-4 md:px-6 py-12 md:py-20 flex flex-col items-center justify-center">
        <div class="w-full max-w-2xl">
            <!-- 说明文字 -->
            <div class="text-center mb-10">
                <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-semibold mb-4 text-dark">在线UUID生成器 - 快速生成唯一标识符</h2>
                <p class="text-neutral text-balance max-w-lg mx-auto">UUID（通用唯一识别码）是一种用于标识信息的128位数字，可在分布式系统中安全使用。我们的免费工具支持单个和批量生成UUID，适用于软件开发、数据库设计等场景。</p>
            </div>

            <!-- UUID 显示区域 -->
            <div class="bg-white rounded-xl shadow-apple p-6 mb-6 transition-apple hover:shadow-apple-hover">
                <div id="uuid-container" class="min-h-[60px] flex items-center justify-center text-gray-800 font-mono text-sm md:text-base break-all p-3 border border-gray-100 rounded-lg bg-gray-50">
                    点击下方按钮生成 UUID
                </div>

                <!-- 操作按钮 -->
                <div class="flex flex-col sm:flex-row gap-3 mt-4">
                    <button id="generate-btn" class="flex-1 bg-primary hover:bg-primary/90 text-white py-3 px-4 rounded-lg font-medium transition-apple flex items-center justify-center">
                        <i class="fa fa-refresh mr-2"></i> 生成 UUID
                    </button>
                    <button id="copy-btn" class="flex-1 bg-white border border-gray-200 hover:bg-apple-hover text-dark py-3 px-4 rounded-lg font-medium transition-apple flex items-center justify-center">
                        <i class="fa fa-copy mr-2"></i> 复制 UUID
                    </button>
                </div>

                <!-- 复制成功提示 -->
                <div id="copy-notification" class="hidden mt-3 text-center text-sm text-green-600 transition-all duration-300 opacity-0 transform translate-y-2">
                    <i class="fa fa-check-circle mr-1"></i> 已复制到剪贴板
                </div>
            </div>

            <!-- 新增：UUID 格式选项 -->
            <div class="bg-white rounded-xl shadow-apple p-6 mb-6 transition-apple hover:shadow-apple-hover">
                <h3 class="font-medium text-lg mb-3">输出格式</h3>
                <div class="flex flex-wrap gap-4">
                    <label class="flex items-center space-x-2 cursor-pointer">
                        <input type="radio" name="format" value="lower" class="format-option" checked>
                        <span class="text-neutral">小写 (e.g., 550e...)</span>
                    </label>
                    <label class="flex items-center space-x-2 cursor-pointer">
                        <input type="radio" name="format" value="upper" class="format-option">
                        <span class="text-neutral">大写 (e.g., 550E...)</span>
                    </label>
                    <label class="flex items-center space-x-2 cursor-pointer">
                        <input type="radio" name="format" value="braced" class="format-option">
                        <span class="text-neutral">花括号 (e.g., {550e...})</span>
                    </label>
                </div>
            </div>

            <!-- 批量生成选项 -->
            <div class="bg-white rounded-xl shadow-apple p-6 mb-8 transition-apple hover:shadow-apple-hover">
                <h3 class="font-medium text-lg mb-4">批量生成UUID</h3>
                <div class="flex items-center gap-3">
                    <label for="count" class="text-neutral whitespace-nowrap">生成数量:</label>
                    <input type="number" id="count" min="1" max="50" value="1"
                           class="flex-1 border border-gray-200 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-apple">
                    <button id="generate-multiple-btn" class="bg-primary hover:bg-primary/90 text-white py-2 px-4 rounded-lg font-medium transition-apple whitespace-nowrap">
                        批量生成
                    </button>
                </div>

                <!-- 批量生成结果 -->
                <div id="multiple-uuids" class="mt-4 hidden">
                    <h4 class="font-medium mb-2 text-sm text-neutral">生成结果:</h4>
                    <div id="uuids-list" class="space-y-2 max-h-60 overflow-y-auto p-2"></div>
                </div>
            </div>

            <!-- 新增：UUID 验证器 -->
            <div class="bg-white rounded-xl shadow-apple p-6 mb-8 transition-apple hover:shadow-apple-hover">
                <h3 class="font-medium text-lg mb-3">UUID 验证器</h3>
                <div class="flex flex-col sm:flex-row gap-3">
                    <input type="text" id="uuid-input" placeholder="在此粘贴 UUID 进行验证..."
                           class="flex-1 border border-gray-200 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-apple">
                    <button id="validate-btn" class="bg-primary hover:bg-primary/90 text-white py-2 px-4 rounded-lg font-medium transition-apple whitespace-nowrap">
                        验证 UUID
                    </button>
                </div>
                <div id="validation-result" class="mt-3 text-sm p-3 rounded-lg hidden"></div>
            </div>

            <!-- 新增：UUID 生成逻辑与执行流程 -->
            <div class="bg-white rounded-xl shadow-apple p-6 mb-8 transition-apple hover:shadow-apple-hover">
                <h3 class="font-medium text-lg mb-4">UUID 生成逻辑详解</h3>

                <!-- 逻辑流程图 -->
                <h4 class="font-medium mb-2 text-md">1. 生成流程图 (UUID v4)</h4>
                <div class="mermaid overflow-x-auto">
                    flowchart TD
                        A[开始] --> B[生成128位随机数]
                        B --> C[设置版本位为0100 (v4)]
                        C --> D[设置变体位为10xx]
                        D --> E[格式化为8-4-4-4-12字符串]
                        E --> F[输出UUID]
                </div>

                <!-- 执行流程模拟器 -->
                <h4 class="font-medium mt-6 mb-2 text-md">2. 执行流程模拟</h4>
                <p class="text-neutral text-sm mb-3">点击下方按钮，逐步查看 UUID v4 的生成过程：</p>

                <button id="simulate-btn" class="bg-primary hover:bg-primary/90 text-white py-2 px-4 rounded-lg font-medium transition-apple mb-3">
                    开始模拟
                </button>

                <div id="simulation-steps" class="mt-4 space-y-3 text-sm font-mono">
                    <!-- 步骤将通过JavaScript动态插入 -->
                </div>
            </div>

            <!-- 关于UUID -->
            <div class="bg-white rounded-xl shadow-apple p-6 transition-apple hover:shadow-apple-hover">
                <h3 class="font-medium text-lg mb-3">关于 UUID</h3>
                <p class="text-neutral text-sm mb-3">UUID 是一个128位长的数字，通常以36个字符的字符串表示，格式为8-4-4-4-12，例如：</p>
                <p class="font-mono text-xs md:text-sm bg-gray-50 p-2 rounded text-gray-700 mb-3">550e8400-e29b-41d4-a716-446655440000</p>
                <p class="text-neutral text-sm">UUID 可以保证在空间和时间上的唯一性，无需中央注册机构即可生成。广泛应用于软件开发、数据库主键、分布式系统标识等场景。</p>

                <h4 class="font-medium text-md mt-4 mb-2">UUID 应用场景</h4>
                <ul class="text-neutral text-sm list-disc pl-5 space-y-1">
                    <li>数据库记录的唯一标识符</li>
                    <li>分布式系统中的对象标识</li>
                    <li>软件开发中的临时文件命名</li>
                    <li>Web应用中的会话标识</li>
                    <li>API密钥和令牌生成</li>
                </ul>

                <!-- 新增：UUID 版本说明 -->
                <h4 class="font-medium text-md mt-4 mb-2">UUID 版本简介</h4>
                <ul class="text-neutral text-sm list-disc pl-5 space-y-1">
                    <li><strong>Version 1 (时间戳 + MAC地址):</strong> 基于时间戳和节点（通常是MAC地址）生成。</li>
                    <li><strong>Version 2 (DCE Security):</strong> 类似于Version 1，但用本地域和UID/GID替换了部分时间戳和MAC地址。</li>
                    <li><strong>Version 3 (MD5 哈希):</strong> 基于命名空间标识符和名称的MD5哈希值生成。</li>
                    <li><strong>Version 4 (随机):</strong> 完全由随机数或伪随机数生成。这是本工具使用的版本。</li>
                    <li><strong>Version 5 (SHA-1 哈希):</strong> 基于命名空间标识符和名称的SHA-1哈希值生成。</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- 引入 Mermaid.js 库用于渲染流程图 -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

    <script>
        // UUID 生成函数 (标准版本4)
        function generateUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        // 根据选项格式化 UUID
        function formatUUID(uuid) {
            const selectedFormat = document.querySelector('input[name="format"]:checked').value;
            switch (selectedFormat) {
                case 'upper':
                    return uuid.toUpperCase();
                case 'braced':
                    return `{${uuid}}`;
                case 'lower':
                default:
                    return uuid.toLowerCase();
            }
        }

        // UUID 验证函数 (正则表达式)
        function validateUUID(uuid) {
            const uuidRegex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/;
            const bracedUuidRegex = /^\{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}\}$/;
            return uuidRegex.test(uuid) || bracedUuidRegex.test(uuid);
        }

        // --- 新增：用于模拟的详细UUID生成函数 ---
        let simulationSteps = [];
        let currentStepIndex = 0;

        // 生成一个详细的UUID v4，并记录步骤
        function generateUUIDWithSteps() {
            simulationSteps = []; // 重置步骤
            currentStepIndex = 0; // 重置索引

            // 1. 生成128位随机数 (用16进制字符串模拟)
            let uuidArray = new Array(32);
            for (let i = 0; i < 32; i++) {
                uuidArray[i] = Math.floor(Math.random() * 16).toString(16);
            }
            const initialHex = uuidArray.join('');
            simulationSteps.push(`1. 生成128位随机数 (十六进制): ${initialHex}`);

            // 2. 设置版本号 (第13个字符, 索引12)
            uuidArray[12] = '4';
            simulationSteps.push(`2. 设置版本位 (第13位) 为 '4': ${uuidArray.join('')}`);

            // 3. 设置变体 (第17个字符, 索引16)
            const variantChar = uuidArray[16];
            const variantValue = parseInt(variantChar, 16);
            const newVariantValue = (variantValue & 0x3) | 0x8; // 保留低2位，高2位设为10
            uuidArray[16] = newVariantValue.toString(16);
            simulationSteps.push(`3. 设置变体位 (第17位) 为 '10xx' 形式: ${uuidArray.join('')} (原值: ${variantChar}, 新值: ${uuidArray[16]})`);

            // 4. 格式化
            const formattedUUID = `${uuidArray.slice(0, 8).join('')}-${uuidArray.slice(8, 12).join('')}-${uuidArray.slice(12, 16).join('')}-${uuidArray.slice(16, 20).join('')}-${uuidArray.slice(20, 32).join('')}`;
            simulationSteps.push(`4. 格式化为标准字符串: ${formattedUUID}`);

            return formattedUUID;
        }

        // 获取DOM元素
        const generateBtn = document.getElementById('generate-btn');
        const copyBtn = document.getElementById('copy-btn');
        const uuidContainer = document.getElementById('uuid-container');
        const copyNotification = document.getElementById('copy-notification');
        const generateMultipleBtn = document.getElementById('generate-multiple-btn');
        const countInput = document.getElementById('count');
        const multipleUuids = document.getElementById('multiple-uuids');
        const uuidsList = document.getElementById('uuids-list');
        const formatOptions = document.querySelectorAll('.format-option');

        // --- 新增DOM元素 ---
        const simulateBtn = document.getElementById('simulate-btn');
        const simulationStepsContainer = document.getElementById('simulation-steps');
        const validateBtn = document.getElementById('validate-btn');
        const uuidInput = document.getElementById('uuid-input');
        const validationResult = document.getElementById('validation-result');

        // 生成单个UUID (并应用格式)
        function generateAndDisplaySingleUUID() {
            const rawUUID = generateUUID();
            const formattedUUID = formatUUID(rawUUID);

            // 添加淡入效果
            uuidContainer.style.opacity = '0';
            setTimeout(() => {
                uuidContainer.textContent = formattedUUID;
                uuidContainer.style.opacity = '1';
            }, 150);

            // 隐藏批量生成结果和模拟步骤
            multipleUuids.classList.add('hidden');
            simulationStepsContainer.innerHTML = '';
        }

        generateBtn.addEventListener('click', generateAndDisplaySingleUUID);

        // 复制UUID到剪贴板
        copyBtn.addEventListener('click', () => {
            const textToCopy = uuidContainer.textContent;

            // 只复制有效的UUID
            if (textToCopy && textToCopy !== '点击下方按钮生成 UUID') {
                navigator.clipboard.writeText(textToCopy).then(() => {
                    // 显示复制成功提示
                    copyNotification.classList.remove('hidden');
                    copyNotification.style.opacity = '1';
                    copyNotification.style.transform = 'translateY(0)';

                    // 3秒后隐藏提示
                    setTimeout(() => {
                        copyNotification.style.opacity = '0';
                        copyNotification.style.transform = 'translateY(2px)';
                        setTimeout(() => {
                            copyNotification.classList.add('hidden');
                        }, 300);
                    }, 3000);
                }).catch(err => {
                    console.error('无法复制文本: ', err);
                });
            }
        });

        // 批量生成UUID (并应用格式)
        generateMultipleBtn.addEventListener('click', () => {
            const count = parseInt(countInput.value) || 1;
            uuidsList.innerHTML = '';

            // 生成指定数量的UUID
            for (let i = 0; i < count; i++) {
                const rawUUID = generateUUID();
                const formattedUUID = formatUUID(rawUUID);
                const uuidElement = document.createElement('div');
                uuidElement.className = 'flex items-center justify-between bg-gray-50 p-2 rounded-lg hover:bg-apple-hover transition-apple';
                uuidElement.innerHTML = `
                    <span class="font-mono text-xs md:text-sm break-all">${formattedUUID}</span>
                    <button class="copy-single text-neutral hover:text-primary transition-apple p-1" data-uuid="${formattedUUID}">
                        <i class="fa fa-copy"></i>
                    </button>
                `;
                uuidsList.appendChild(uuidElement);
            }

            // 显示批量生成结果
            multipleUuids.classList.remove('hidden');

            // 添加复制单个UUID的事件监听
            document.querySelectorAll('.copy-single').forEach(btn => {
                btn.addEventListener('click', function() {
                    const uuid = this.getAttribute('data-uuid');
                    navigator.clipboard.writeText(uuid).then(() => {
                        // 临时改变图标表示复制成功
                        const icon = this.querySelector('i');
                        const originalClass = icon.className;
                        icon.className = 'fa fa-check';

                        setTimeout(() => {
                            icon.className = originalClass;
                        }, 1500);
                    });
                });
            });
        });

        // --- 新增：处理模拟流程 ---
        simulateBtn.addEventListener('click', () => {
            // 生成带步骤的UUID
            const finalUUID = generateUUIDWithSteps();
            const formattedFinalUUID = formatUUID(finalUUID); // 应用当前格式选项

            // 显示最终UUID
            uuidContainer.textContent = formattedFinalUUID;

            // 重置并显示第一步
            simulationStepsContainer.innerHTML = '';
            currentStepIndex = 0;
            if (simulationSteps.length > 0) {
                const stepElement = document.createElement('div');
                stepElement.className = 'step-highlight';
                stepElement.textContent = simulationSteps[currentStepIndex];
                simulationStepsContainer.appendChild(stepElement);
            }
            // 隐藏批量生成结果
            multipleUuids.classList.add('hidden');
        });

        // 监听模拟区域的点击，进行下一步
        simulationStepsContainer.addEventListener('click', () => {
             if (simulationSteps.length > 0 && currentStepIndex < simulationSteps.length - 1) {
                 currentStepIndex++;
                 const stepElement = document.createElement('div');
                 stepElement.className = 'step-highlight';
                 stepElement.textContent = simulationSteps[currentStepIndex];
                 simulationStepsContainer.appendChild(stepElement);
                 // 平滑滚动到新步骤
                 stepElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
             } else if (currentStepIndex >= simulationSteps.length - 1) {
                 // 可选：所有步骤完成后提示或重置
                 // alert('模拟完成!');
             }
        });

        // --- 新增：处理UUID验证 ---
        validateBtn.addEventListener('click', () => {
            const inputUUID = uuidInput.value.trim();
            if (!inputUUID) {
                validationResult.textContent = '请输入一个 UUID 进行验证。';
                validationResult.className = 'mt-3 text-sm p-3 rounded-lg bg-yellow-100 text-yellow-800';
                validationResult.classList.remove('hidden');
                return;
            }

            const isValid = validateUUID(inputUUID);
            if (isValid) {
                validationResult.textContent = '✅ 有效的 UUID 格式。';
                validationResult.className = 'mt-3 text-sm p-3 rounded-lg bg-green-100 text-green-800';
            } else {
                validationResult.textContent = '❌ 无效的 UUID 格式。';
                validationResult.className = 'mt-3 text-sm p-3 rounded-lg bg-red-100 text-red-800';
            }
            validationResult.classList.remove('hidden');
        });

        // --- 新增：监听格式选项变化 ---
        formatOptions.forEach(option => {
            option.addEventListener('change', () => {
                // 如果当前显示的是单个UUID，则重新格式化显示
                if (!multipleUuids.classList.contains('hidden') && multipleUuids.children.length > 0) {
                     // 如果批量结果显示着，不立即更改主显示区，但下次生成会应用新格式
                     return;
                }
                const currentUUID = uuidContainer.textContent;
                if (currentUUID && currentUUID !== '点击下方按钮生成 UUID') {
                    try {
                        // 尝试去除可能的花括号再格式化
                        let rawUUID = currentUUID;
                        if (rawUUID.startsWith('{') && rawUUID.endsWith('}')) {
                            rawUUID = rawUUID.slice(1, -1);
                        }
                        // 简单校验一下是否像UUID
                        if (/^[0-9a-fA-F\-]+$/.test(rawUUID.replace(/\-/g, '')) && rawUUID.length >= 32) {
                             const newFormattedUUID = formatUUID(rawUUID);
                             uuidContainer.textContent = newFormattedUUID;
                        }
                    } catch (e) {
                        // 如果解析失败，不处理
                    }
                }
            });
        });

        // 初始化页面时生成一个UUID
        window.addEventListener('load', () => {
            generateAndDisplaySingleUUID();
        });
    </script>
    <!-- 统一引用全局页脚 -->
    <footer id="site-footer"></footer>
    <script src="/source/footer.js"></script>
</body>
</html>



